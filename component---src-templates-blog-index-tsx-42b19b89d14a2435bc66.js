"use strict";(self.webpackChunkdiscuz_fly_site=self.webpackChunkdiscuz_fly_site||[]).push([[819],{1186:function(e,t,a){a.r(t);a(6910);var n=a(6540),r=a(4755),l=a(4011),o=a(3060),s=a(8693);const c=a(4362),i=a(7307);t.default=e=>{var t,a;const g=e.pageContext||{},m=(null==g?void 0:g.posts)||[],u=(0,n.useMemo)(()=>m.map(e=>{const t=e.frontmatter||{},a=t.title||e.relativePath,n=(t.slug||e.relativePath||"").replace(/\.md$|\.markdown$/i,"").replace(/^\/+|\/+$/g,""),r=t.date?new Date(t.date):null,l=t.excerpt||"",o=Array.isArray(t.tags)?t.tags.map(String):[],s=r?r.getTime():null;return{id:e.id||n,title:a,slug:n,date:r,dateTs:s,excerpt:l,tags:o}}).sort((e,t)=>e.dateTs||t.dateTs?e.dateTs?t.dateTs?t.dateTs-e.dateTs:-1:1:0),[m]),{t:d,i18n:p}=(0,r.useTranslation)(),b=(null==g||null===(t=g.i18n)||void 0===t?void 0:t.language)||p&&p.language||"en",y=(null==g||null===(a=g.i18n)||void 0===a?void 0:a.defaultLanguage)||"en",h=b&&b!==y?"/"+b:"",x={en:c,zh:i},f=(e,t)=>{try{if(p&&p.language){const a=d(e,Object.assign({lng:b},t||{}));if("string"==typeof a&&a!==e)return a}}catch(a){}return((e,t)=>{const a=x[b]&&x[b][e];return a&&"string"==typeof a?t?Object.keys(t).reduce((e,a)=>e.replace(new RegExp("{{\\s*"+a+"\\s*}}","g"),String(t[a])),a):a:e})(e,t)},v=(0,n.useMemo)(()=>{const e=new Set;return u.forEach(t=>t.tags.forEach(t=>e.add(t))),Array.from(e).sort()},[u]),E=(null==g?void 0:g.selectedTag)||null,{0:w,1:N}=(0,n.useState)(E),{0:S,1:k}=(0,n.useState)(Number((null==g?void 0:g.currentPage)||(()=>{try{const e=new URLSearchParams("undefined"!=typeof window?window.location.search:""),t=parseInt(e.get("page")||String((null==g?void 0:g.currentPage)||"1"),10);return Number.isFinite(t)&&t>0?t:1}catch(e){return Number((null==g?void 0:g.currentPage)||1)}})()));(0,n.useEffect)(()=>{try{const e=w?h+"/blog/tag/"+String(w).toLowerCase().replace(/[^a-z0-9]+/g,"-")+"/":h+"/blog/",t=e+(S&&S>1?"?page="+S:"");window.history.replaceState({},"",t)}catch(e){}},[w,S,h]);const T=(0,n.useMemo)(()=>w?u.filter(e=>e.tags.includes(w)):u,[u,w]),M=Math.max(1,Math.ceil(T.length/5)),C=Math.min(Math.max(1,S),M),P=5*(C-1),_=T.slice(P,P+5);function A(e){const t=Math.max(1,Math.min(M,e));k(t),window.scrollTo({top:0,behavior:"smooth"})}const I=(0,n.useMemo)(()=>{try{return new Intl.DateTimeFormat(p.language||"en",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(e){return null}},[p.language]);return n.createElement(l.A,{pageProps:e},n.createElement("main",{className:"max-w-4xl mx-auto py-12 px-4"},n.createElement(o.A,{title:String(f("blog.title")||"Blog"),lang:b}),n.createElement("h1",{className:"text-3xl font-bold mb-6"},String(f("blog.title")||"Blog")),n.createElement("div",{className:"mb-6"},n.createElement("div",{className:"flex items-center space-x-3 flex-wrap"},n.createElement("button",{onClick:()=>{N(null),k(1)},className:"px-3 py-1 rounded "+(null===w?"bg-brand text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200")},String(f("blog.all",{count:u.length}))),v.map(e=>n.createElement("button",{key:e,onClick:()=>{N(e),k(1)},className:"px-3 py-1 rounded "+(w===e?"bg-brand text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200")},e)))),n.createElement("div",{className:"mb-4 text-sm text-gray-600"},String(f("blog.count",{count:T.length}))," â€” ",String(f("blog.page_of",{current:C,total:M}))),n.createElement("ul",{className:"space-y-6"},_.map(e=>n.createElement("li",{key:e.id,role:"link",tabIndex:0,onClick:()=>(0,s.navigate)(h+"/blog/"+e.slug+"/"),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),(0,s.navigate)(h+"/blog/"+e.slug+"/"))},className:"border rounded p-4 cursor-pointer transition-transform transform hover:-translate-y-1 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-brand"},n.createElement("h2",{className:"text-xl font-semibold mb-1"},n.createElement(s.Link,{to:h+"/blog/"+e.slug+"/",className:"text-brand"},e.title)),e.date?n.createElement("div",{className:"text-sm text-gray-500 mb-2"},(e=>{if(!e)return null;try{return I?I.format(e):e.toISOString().slice(0,10)}catch(t){return e.toISOString().slice(0,10)}})(e.date)):null,e.excerpt?n.createElement("p",{className:"text-sm text-gray-700 mb-2"},e.excerpt):null,e.tags&&e.tags.length?n.createElement("div",{className:"flex flex-wrap gap-2"},e.tags.map(e=>n.createElement("button",{key:e,onClick:t=>{t.stopPropagation(),N(e),k(1)},className:"text-sm px-2 py-1 bg-gray-100 rounded"},e))):null))),n.createElement("div",{className:"mt-6 flex items-center justify-between"},n.createElement("div",null,n.createElement("button",{onClick:()=>A(S-1),disabled:S<=1,className:"px-3 py-1 rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50"},String(f("blog.previous")||"Previous")),n.createElement("button",{onClick:()=>A(S+1),disabled:S>=M,className:"ml-2 px-3 py-1 rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50"},String(f("blog.next")||"Next"))),n.createElement("div",{className:"text-sm text-gray-600"},String(f("blog.showing_range",{start:P+1,end:Math.min(P+5,T.length),total:T.length}))))))}},3060:function(e,t,a){var n=a(6540),r=a(8693);t.A=e=>{var t,a;let{title:l,description:o="",lang:s="en",pathname:c}=e;const i=(0,r.useStaticQuery)("2444503262"),g=(null==i||null===(t=i.site)||void 0===t||null===(a=t.siteMetadata)||void 0===a?void 0:a.title)||"",m={}.SITE_URL||"",u=l?l+" | "+g:g;let d="";try{d=c?m?new URL(c,m).href:c:m||""}catch(p){d=c||m||""}return n.createElement(n.Fragment,null,n.createElement("html",{lang:s}),n.createElement("title",null,u),n.createElement("meta",{name:"description",content:o}),n.createElement("meta",{property:"og:title",content:u}),n.createElement("meta",{property:"og:description",content:o}),n.createElement("meta",{property:"og:type",content:"website"}),n.createElement("meta",{property:"og:url",content:d}),n.createElement("meta",{name:"twitter:card",content:"summary"}))}}}]);
//# sourceMappingURL=component---src-templates-blog-index-tsx-42b19b89d14a2435bc66.js.map